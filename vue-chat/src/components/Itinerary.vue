<template>
  <div class="plan-content">
    <div v-if="loading" class="loading">æ­£åœ¨ç”Ÿæˆï¼Œè¯·ç¨å€™â€¦</div>
    <div v-else-if="!plan" class="plan-placeholder">
      <div class="plan-placeholder-icon">ğŸ—ºï¸</div>
      <h3>æ—…è¡Œè§„åˆ’ç­‰å¾…ç”Ÿæˆ</h3>
      <p>ç‚¹å‡»å·¦ä¾§"å‘é€"æŒ‰é’®ï¼Œæˆ‘å°†æ ¹æ®æˆ‘ä»¬çš„å¯¹è¯ä¸ºæ‚¨ç”Ÿæˆè¯¦ç»†çš„æ—…è¡Œè§„åˆ’ã€‚</p>
      <p>æ‚¨çš„è§„åˆ’å°†åŒ…æ‹¬ï¼š</p>
      <p>â€¢ æ¯æ—¥è¡Œç¨‹å®‰æ’</p>
      <p>â€¢ é…’åº—å’Œé¤é¥®æ¨è</p>
      <p>â€¢ é¢„ç®—åˆ†é…å»ºè®®</p>
      <p>â€¢ å½“åœ°ä½“éªŒå’Œæ–‡åŒ–æ´»åŠ¨</p>
      <button @click="$emit('regenerate')" class="btn">ç”Ÿæˆè¡Œç¨‹</button>
    </div>

    <div v-else class="plan">
      <pre>{{ plan }}</pre>
      <button @click="$emit('regenerate')" class="btn">ä¿®æ”¹æ­¤è®¡åˆ’ï¼Œè®©å®ƒæ›´åƒä½ è‡ªå·±</button>
    </div>
  </div>
</template>

<script setup>
const props = defineProps({ plan: { type: String, default: '' }, loading: { type: Boolean, default: false } })
</script>

<style scoped>
.plan-content {
  flex: 1;
  padding: 30px;
  overflow-y: auto;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  color: #888;
}

.plan-placeholder {
  text-align: center;
  max-width: 400px;
}

.plan-placeholder-icon {
  font-size: 60px;
  margin-bottom: 20px;
  color: #ddd;
}

.plan-placeholder h3 {
  font-size: 22px;
  margin-bottom: 12px;
  color: #666;
}

.plan-placeholder p {
  margin-bottom: 8px;
  line-height: 1.6;
}

.btn {
  background-color: #7b61ff;
  color: white;
  border: none;
  border-radius: 12px;
  padding: 16px 28px;
  font-size: 16px;
  font-weight: 600;
  cursor: pointer;
  margin-top: 25px;
  width: 100%;
  transition: background-color 0.3s;
}

.btn:hover {
  background-color: #6d52e8;
}

.loading {
  color: #6b7280;
  padding: 12px;
}

.plan {
  white-space: pre-wrap;
  font-family: 'Segoe UI', 'Microsoft YaHei', sans-serif;
  margin-top: 12px;
  width: 100%;
  text-align: left;
}

@media (max-width: 900px) {
  .plan-content {
    padding: 20px;
  }
}
</style>